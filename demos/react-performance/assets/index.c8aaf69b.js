import{j as h,r,R as g,a as s,u as b,L as O,c as k,H as M}from"./vendor.498c63bd.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(c){if(c.ep)return;c.ep=!0;const i=l(c);fetch(c.href,i)}})();const $=""+new URL("app.03964a47.png",import.meta.url).href,a={isAuthenticated:!1,signIn(t){a.isAuthenticated=!0,setTimeout(t,100)},signOut(t){a.isAuthenticated=!1,setTimeout(t,100)}},m=h.exports.Fragment,e=h.exports.jsx,o=h.exports.jsxs,w=r.exports.createContext(null);function B({children:t}){const[n,l]=r.exports.useState(null),i={user:n,signIn:(d,y)=>a.signIn(()=>{l(d),y()}),signOut:d=>a.signOut(()=>{l(null),d()})};return e(w.Provider,{value:i,children:t})}function P(){const[t,n]=r.exports.useState(0);return console.count("Demo1"),o("div",{children:[e("h1",{children:"Demo1"}),e("p",{children:"normal"}),e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]}),e(U,{})]})}function U(){return console.count("Demo1 SomeChild"),e("div",{children:"Demo1 SomeChild"})}function L(){return console.count("Demo2"),o("div",{children:[e("h1",{children:"Demo2 "}),e("p",{children:"Extract to a new component"}),e(A,{}),e(R,{})]})}function A(){const[t,n]=r.exports.useState(0);return console.count("Button"),o(m,{children:[e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]})]})}function R(){return console.count("Demo2 SomeChild"),e("div",{children:"Demo2 SomeChild"})}function j(){return console.count("Demo3"),e(I,{children:e(E,{})})}function I(t){return console.count("Demo3Wrap"),o("div",{children:[e("h1",{children:"Demo3"}),e("p",{children:"props.children"}),t.children,e(H,{})]})}function E(){const[t,n]=r.exports.useState(0);return console.count("Button"),o(m,{children:[e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]})]})}function H(){return console.count("Demo3 SomeChild"),e("div",{children:"Demo3 SomeChild"})}function G(){return console.count("Demo4"),e(N,{children:e(F,{})})}function N(t){const[n,l]=r.exports.useState(0);return console.count("Button"),o("div",{children:[e("h1",{children:"Demo4"}),e("p",{children:"props.children"}),e("button",{type:"button",onClick:c=>{l(Math.random())},children:"Update"}),o("div",{children:["State is ",n]}),t.children]})}function F(){return console.count("Demo4 SomeChild"),e("div",{children:"Demo4 SomeChild"})}const f=r.exports.createContext(0),C=r.exports.createContext(()=>{});function W(){const[t,n]=r.exports.useState(0);return console.count("Demo5"),e(f.Provider,{value:t,children:o(C.Provider,{value:n,children:[e("h1",{children:"Demo5 context"}),e("p",{children:"useContext"}),e(T,{})]})})}function T(){return console.count("Middle"),o("div",{children:[e(q,{}),e(z,{})]})}function q(){console.count("Button");const t=r.exports.useContext(C);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function z(){const t=r.exports.useContext(f);return console.count("Display"),o("div",{children:["Display ",t]})}const x=r.exports.createContext(0),D=r.exports.createContext(()=>{});function K(){const[t,n]=r.exports.useState(0);return console.count("Demo6"),e(x.Provider,{value:t,children:o(D.Provider,{value:n,children:[e("h1",{children:"Demo6 context"}),e("p",{children:"memo"}),e(_,{})]})})}const _=r.exports.memo(()=>(console.count("Middle"),o("div",{children:[e(J,{}),e(Q,{})]})));function J(){console.count("Button");const t=r.exports.useContext(D);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function Q(){const t=r.exports.useContext(x);return console.count("Display"),o("div",{children:["Display ",t]})}const v=r.exports.createContext(0),S=r.exports.createContext(()=>{});function V(){const[t,n]=r.exports.useState(0);return console.count("Demo7"),e(v.Provider,{value:t,children:o(S.Provider,{value:n,children:[e("h1",{children:"Demo7 context"}),e("p",{children:"useMemo"}),e(X,{})]})})}function X(){return console.count("Middle"),r.exports.useMemo(()=>o("div",{children:[e(Y,{}),e(Z,{})]}),[])}function Y(){console.count("Button");const t=r.exports.useContext(S);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function Z(){const t=r.exports.useContext(v);return console.count("Display"),o("div",{children:["Display ",t]})}function ee(){return console.count("Demo8"),o("div",{children:[e("h1",{children:"Demo8"}),e("p",{children:"normal: Simulate time-consuming components"}),e(te,{}),e(ne,{})]})}function te(){console.count("Button");const[t,n]=r.exports.useState(0);return o(m,{children:[e("button",{onClick:()=>n(Math.random()),children:"Update"}),o("div",{children:["Display ",t]})]})}function ne(){console.time("OtherComponent");const t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponent"),e(oe,{})}function oe(){console.time("OtherComponentChild");const t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponentChild"),e(re,{})}function re(){console.time("OtherComponentGrandChild");const t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponentGrandChild"),e("p",{children:"OtherComponentGrandChild"})}function ce(){return o(B,{children:[e(le,{}),e(g,{children:o(s,{children:[e(s,{path:"/",element:e(ue,{})}),e(s,{path:"/demo1",element:e(P,{})}),e(s,{path:"/demo2",element:e(L,{})}),e(s,{path:"/demo3",element:e(j,{})}),e(s,{path:"/demo4",element:e(G,{})}),e(s,{path:"/demo5",element:e(W,{})}),e(s,{path:"/demo6",element:e(K,{})}),e(s,{path:"/demo7",element:e(V,{})}),e(s,{path:"/demo8",element:e(ee,{})})]})})]})}function ie(t,n){return t===n?"is-current-link":""}const p={Home:"/",Demo1:"/demo1",Demo2:"/demo2",Demo3:"/demo3",Demo4:"/demo4",Demo5:"/demo5",Demo6:"/demo6",Demo7:"/demo7",Demo8:"/demo8"},se=Object.keys(p).map(t=>({name:t,path:p[t]}));function le(){const t=b();return o("section",{children:[se.map(n=>e(O,{to:n.path,className:ie(n.path,t.pathname),children:n.name},n.path)),"/",e("a",{href:"https://github.com/capricorncd/demos/tree/main/react-performance",target:"_blank",children:"Github"})]})}function ue(){return o(m,{children:[e("h1",{children:"Home"}),e("p",{children:"React performance optimization demo."}),e("p",{children:e("img",{src:$,style:{maxWidth:"100%"}})})]})}k(document.getElementById("root")).render(e(M,{children:e(ce,{})}));
